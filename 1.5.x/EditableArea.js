(window.webpackJsonpShineoutDoc=window.webpackJsonpShineoutDoc||[]).push([[20],{1506:function(e,n,t){"use strict";var a=t(22),o=t(152),l=t(153),i=t(49),r=t(4),s=t(5),u=t(6),d=t(3),c=t(7),h=t(1),b=t(13),p=t(0),f=t.n(p),v=t(41),m=t(10),g=t.n(m),j=t(19),O=t(76),w=t(2),y=t(207),E=t(31),k=Object(O.a)(function(e){var n=e.focus,t=(e.getRef,e.fixed,Object(b.a)(e,["focus","getRef","fixed"]));return n?f.a.createElement("div",Object.assign({className:Object(w.k)("focus")},t)):null});function C(e){if(!e&&0!==e)return" ";var n=String(e).split("\n");return 1<n.length?"".concat(n[0],"..."):String(e)}var x=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={value:e.defaultValue,showTextarea:!1,height:0,showClear:!1},n.editableAreaId="editable_".concat(Object(j.c)()),n.handleFocus=n.handleFocus.bind(Object(h.a)(Object(h.a)(n))),n.handleChange=n.handleChange.bind(Object(h.a)(Object(h.a)(n))),n.handleMousedown=n.handleMousedown.bind(Object(h.a)(Object(h.a)(n))),n.bindElement=n.bindElement.bind(Object(h.a)(Object(h.a)(n))),n.bindInput=n.bindInput.bind(Object(h.a)(Object(h.a)(n))),n.bindPlaceholder=n.bindPlaceholder.bind(Object(h.a)(Object(h.a)(n))),n.handleMouseEnter=n.handleMouseEnter.bind(Object(h.a)(Object(h.a)(n))),n.handleMouseLeave=n.handleMouseLeave.bind(Object(h.a)(Object(h.a)(n))),n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleResize()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleMousedown)}},{key:"getValue",value:function(){var e=this.props,n=e.value;return e.onChange&&void 0!==n?n:this.state.value}},{key:"getPreTagValue",value:function(e){var n=this.state.showTextarea,t=this.props.placeholder;return!e&&0!==e&&t?f.a.createElement("span",{className:Object(w.k)("textarea-placeholder")},t):n?function(e){if(!e&&0!==e)return" ";var n=String(e).split("\n"),t=n.length;return""===n[t-1]&&(n[t-1]=" "),n.join("\n")}(e):C(e)}},{key:"bindElement",value:function(e){this.container=e}},{key:"bindInput",value:function(e){this.input=e}},{key:"bindPlaceholder",value:function(e){this.placeholder=e}},{key:"showClear",value:function(){var e=this.state,n=e.showTextarea,t=e.showClear,a=this.props,o=a.clearable,l=a.disabled;return this.getValue()&&t&&!n&&o&&!l}},{key:"handleResize",value:function(){var n;this.placeholder&&(n=this.placeholder.offsetHeight||0),this.setState(Object(v.a)(function(e){e.height=n}))}},{key:"handleFocus",value:function(e){var n=this,t=this.props,a=t.onFocus;t.disabled||(document.addEventListener("mousedown",this.handleMousedown),this.handleToggle(!0),a&&a(e),Object(j.a)(function(){E.c.end(n.input)}))}},{key:"handleMousedown",value:function(e){(function e(n,t){return n.getAttribute("data-id")===t||!!n.parentElement&&e(n.parentElement,t)})(e.target,this.editableAreaId)||(this.handleToggle(!1),document.removeEventListener("mousedown",this.handleMousedown))}},{key:"handleToggle",value:function(n){this.setState(Object(v.a)(function(e){e.showTextarea=n,e.showClear=!1}),this.handleResize)}},{key:"handleChange",value:function(e){var n=e.target.value,t=this.props.onChange;t&&t(n),this.setState(Object(v.a)(function(e){e.value=n}),this.handleResize)}},{key:"handleMouseEnter",value:function(){this.setState(Object(v.a)(function(e){e.showClear=!0}))}},{key:"handleMouseLeave",value:function(){this.setState(Object(v.a)(function(e){e.showClear=!1}))}},{key:"renderItem",value:function(){var e=this,n=this.state,t=n.showTextarea,a=n.height,o=this.props,l=o.style,i=o.placeholder,r=o.onBlur,s=o.bordered,u=o.disabled,d=o.absolute,c=this.getValue(),h=this.showClear(),b=[f.a.createElement("pre",{key:"pre",ref:this.bindPlaceholder,className:Object(w.k)("placeholder",!t&&"placeholder-one-line",s&&"bordered",u?"disabled":"editable",h&&"reset-padding-right")},this.getPreTagValue(c)),f.a.createElement("textarea",{ref:this.bindInput,key:"t",placeholder:i,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:r,spellCheck:"false",style:{height:a,lineHeight:(l||{}).lineHeight},rows:1,className:Object(w.k)("textarea",t?"edit":"show",u&&"disabled"),value:t?c:C(c)}),h&&f.a.createElement("div",{key:"d",style:{height:a},className:Object(w.k)("clear-wrapper")},f.a.createElement(y.a,{onClick:function(){e.handleChange({target:{value:""}})},key:"c"}))];return t&&d?f.a.createElement(k,{rootClass:Object(w.k)("absolute"),fixed:!0,position:"drop-down",absolute:!0,focus:t,parentElement:this.container,"data-id":this.editableAreaId},b):b}},{key:"render",value:function(){var e=this.state.showTextarea,n=this.props,t=n.style,a=n.className,o=g()(a,Object(w.k)("_",e&&"focus"));return f.a.createElement("div",{className:o,ref:this.bindElement,style:t,"data-id":this.editableAreaId,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.renderItem())}}]),t}(f.a.PureComponent);x.defaultProps={defaultValue:"",clearable:!0,bordered:!1,disabled:!1};var M=x,A=Object(a.a)(i.a,Object(o.a)(400),l.a)(M);A.displayName="ShineoutEditableArea";n.a=A},813:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),l=t(493),i=t(494),r=t(39),s=t(814),u=t.n(s),d=t(815),c=t.n(d),h=Object(r.b)(u.a,c.a),b=[{name:"1-base",title:Object(r.b)("基本用法 \n EditableArea 默认展示一行，超过一行的内容用...代替","Base \n Editablearea displays one line by default, and more than one line is replaced by ..."),component:t(816).default,rawText:t(817)},{name:"2-controlled",title:Object(r.b)("受控 \n 传递value, onChange使组件受控","Controlled \n Pass value and onChange props to make the component controlled"),component:t(818).default,rawText:t(819)}];n.default=Object(l.a)(function(e){return o.a.createElement(i.b,Object.assign({},e,{codes:void 0,source:h,examples:b}))})},814:function(e,n){e.exports="# EditableArea *可编辑域*\n\n<example />\n\n## API\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| defaultValue | string | 无 | 设置初始值 |\n| value | string | 无 | 受控时，传入的value |\n| onChange | (value: string) => void | 无 | 值改变时的回调函数，和value一起设置时使组件受控 |\n| style | object | 无 | 组件最外层的扩展样式 |\n| bordered | boolean | false | 是否显示外边框 |\n| disabled | boolean | false | 是否禁用 |\n| clearable | boolean | true | 是否展示清除按钮 |\n| placeholder | string | 无 | 同原生 textarea 标签的 placeholder |\n| delay | number | 400 | 用户输入触发 onChange 和校验间隔时间，单位 毫秒 |\n| trim | boolean | false | trim 为 true 时，失去焦点时会自动删除空白字符 |\n| onBlur | (e: MouseEvent) => void | 无 | 失去焦点事件 |\n| onFocus | (e: MouseEvent) => void | 无 | 聚焦事件 |\n| absolute | boolean | false | 为 true 时，选项弹出层在 DOM 中独立 render |\n"},815:function(e,n){e.exports="# EditableArea\n\n<example />\n\n## API\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| defaultValue | string | none | Set initial value |\n| value | string | none | The value passed in when controlled |\n| onChange | (value: string) => void | none | Callback function when the value changes, making the component controlled when set with value |\n| style | object | none | The outermost extension style of a component |\n| bordered | boolean | false | Whether to show the border |\n| disabled | boolean | false | Whether to disable |\n| clearable | boolean | true | Whether to show the clear button |\n| placeholder | string | none | The same as the native placeholder tag |\n| delay | number | 400 | User input triggers the onChange and to check interval, unit: ms. |\n| trim | boolean | false | When trim is true, blank characters are automatically deleted when lose focus |\n| onBlur | (e: MouseEvent) => void | none | blur event |\n| onFocus | (e: MouseEvent) => void | none | focus event |\n| absolute | boolean | false | When it is true, the pop-up layer of option append into document.body. |\n"},816:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),l=t(1506);n.default=function(){return o.a.createElement(l.a,{placeholder:"input something",style:{width:300}})}},817:function(e,n){e.exports="/**\n * cn - 基本用法\n *    -- EditableArea 默认展示一行，超过一行的内容用...代替\n * en - Base\n *    -- Editablearea displays one line by default, and more than one line is replaced by ...\n */\n\nimport React from 'react'\nimport { EditableArea } from 'shineout'\n\nexport default function() {\n  return <EditableArea placeholder=\"input something\" style={{ width: 300 }} />\n}\n"},818:function(e,n,t){"use strict";t.r(n);var o=t(23),l=t(0),i=t.n(l),r=t(1506);n.default=function(){var e=Object(l.useState)(""),n=Object(o.a)(e,2),t=n[0],a=n[1];return i.a.createElement(r.a,{value:t,placeholder:"Input something",onChange:function(e){a(e)},style:{width:300}})}},819:function(e,n){e.exports="/**\n * cn - 受控\n *    -- 传递value, onChange使组件受控\n * en - Controlled\n *    -- Pass value and onChange props to make the component controlled\n */\n\nimport React, { useState } from 'react'\nimport { EditableArea } from 'shineout'\n\nexport default function() {\n  const [value, setValue] = useState('')\n  return (\n    <EditableArea\n      value={value}\n      placeholder=\"Input something\"\n      onChange={val => {\n        setValue(val)\n      }}\n      style={{ width: 300 }}\n    />\n  )\n}\n"}}]);