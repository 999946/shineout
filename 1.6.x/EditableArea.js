(window.webpackJsonpShineoutDoc=window.webpackJsonpShineoutDoc||[]).push([[20],{1525:function(e,t,n){"use strict";var a=n(20),o=n(153),r=n(154),l=n(50),i=n(4),s=n(5),u=n(6),c=n(3),h=n(7),d=n(1),b=n(0),p=n.n(b),v=n(10),f=n.n(v),m=n(538),j=n(88),g=n(93),O=n(2),y=n(33),w=n(19),k=n(30);var x=function(e){function n(e){var t;return Object(i.a)(this,n),(t=Object(u.a)(this,Object(c.a)(n).call(this,e))).state={value:e.value,showTextarea:!1},t.bindContainer=t.bindElement.bind(Object(d.a)(Object(d.a)(t)),"container"),t.renderInput=t.renderInput.bind(Object(d.a)(Object(d.a)(t))),t.renderTextarea=t.renderTextarea.bind(Object(d.a)(Object(d.a)(t))),t.onChange=t.onChange.bind(Object(d.a)(Object(d.a)(t))),t.onBlur=t.onBlur.bind(Object(d.a)(Object(d.a)(t))),t.autoFocus=t.autoFocus.bind(Object(d.a)(Object(d.a)(t))),t.textareaFocus=t.textareaFocus.bind(Object(d.a)(Object(d.a)(t))),t.updateValue=t.updateValue.bind(Object(d.a)(Object(d.a)(t))),t.showPop=t.updateShowTextarea.bind(Object(d.a)(Object(d.a)(t)),!0),t.hidePop=t.updateShowTextarea.bind(Object(d.a)(Object(d.a)(t)),!1),t}return Object(h.a)(n,e),Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.value;t!==e.value&&this.updateValue(t)}},{key:"onChange",value:function(e){var t=this.props.onChange;"function"==typeof t&&t(e),this.updateValue(e)}},{key:"onBlur",value:function(e){var t=this.props.onBlur;this.hidePop(),"function"==typeof t&&t(e)}},{key:"updateShowTextarea",value:function(e){this.setState({showTextarea:e})}},{key:"updateValue",value:function(e){this.setState({value:e})}},{key:"textareaFocus",value:function(e){var t=this.props.onFocus;"function"==typeof t&&t(e)}},{key:"bindElement",value:function(e,t){this[e]=t}},{key:"autoFocus",value:function(){if(this.container){var e,t,n=(e=this.container,t=".".concat(Object(O.k)("text-area")," textarea.so-input-auto-size"),e.querySelector(t));n&&k.c.end(n)}}},{key:"renderTextarea",value:function(){var e=this.state,t=e.showTextarea,n=e.value,a=this.props,o=a.delay,r=a.placeholder;if(!t)return null;var l=this;return Object(w.a)(function(){l.autoFocus()}),p.a.createElement("div",{ref:this.bindContainer},p.a.createElement(m.a,{className:Object(O.k)("text-area"),autosize:!0,value:n,rows:1,delay:o,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.textareaFocus,placeholder:r}))}},{key:"renderInput",value:function(){var e=this.state.value,t=this.props,n=t.placeholder,a=t.disabled;return p.a.createElement(j.a,{placeholder:n,value:function(e){if(!e&&0!==e)return"";var t=String(e).split("\n");return 1<t.length?"".concat(t[0],"..."):String(e)}(e),className:Object(O.k)("input"),onFocus:this.showPop,disabled:a})}},{key:"render",value:function(){var e=this,t=this.state,n=t.showTextarea,a=t.value,o=this.props,r=o.style,l=o.className,i=o.bordered,s=o.clearable,u=f()(l,Object(O.k)("_",!i&&"none-bordered"));return p.a.createElement("div",{className:u,style:r},this.renderInput(),p.a.createElement(g.a,{visible:n,showArrow:!1,className:Object(O.k)("popover"),position:"cover",style:this.popoverStyle},this.renderTextarea()),s&&a?p.a.createElement("div",{className:Object(O.k)("clear"),onClick:function(){return e.updateValue("")}},y.a.CloseCircle):null)}},{key:"popoverStyle",get:function(){var e=this.props.style;return e&&e.width?{width:e.width}:null}}]),n}(p.a.PureComponent);x.defaultProps={bordered:!1};var E=x,C=Object(a.a)(l.a,Object(o.a)(400),r.a)(E);C.displayName="ShineoutEditableArea";t.a=C},538:function(e,t,n){"use strict";var a=n(20),o=n(153),r=n(154),l=n(50),i=n(68),s=n(11),u=n(4),c=n(5),h=n(6),d=n(3),b=n(25),p=n(7),v=n(1),f=n(0),m=n.n(f),j=n(17),g=n(2),O=n(156),y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).defaultInfo=function(e){if(!e||0===e.length)return null;var t=a.props.info,n="".concat(e.length," / ").concat(t);return e.length<=t?n:new Error(n)},a.state={height:0},a.bindShadow=a.bindShadow.bind(Object(v.a)(Object(v.a)(a))),a.handleBlur=a.handleBlur.bind(Object(v.a)(Object(v.a)(a))),a.handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.handleKeyUp=a.handleKeyUp.bind(Object(v.a)(Object(v.a)(a))),a.resize=a.resize.bind(Object(v.a)(Object(v.a)(a))),a.defaultInfo=a.defaultInfo.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){Object(b.a)(Object(d.a)(t.prototype),"componentDidMount",this).call(this),this.props.autosize&&this.resize()}},{key:"componentDidUpdate",value:function(e){this.props.autosize&&e.value!==this.props.value&&this.resize(this.props.value)}},{key:"bindShadow",value:function(e){this.shadow=e}},{key:"resize",value:function(e){(e||""===e)&&(this.shadow.value=e);var t=this.shadow?this.shadow.scrollHeight:0;this.setState({height:t})}},{key:"handleChange",value:function(e){this.props.onChange(e.target.value),this.props.autosize&&this.resize(e.target.value)}},{key:"handleKeyUp",value:function(e){var t=this.props.onEnterPress;13===e.keyCode&&t&&t(e.target.value,e)}},{key:"handleBlur",value:function(e){var t=e.target.value,n=this.props,a=n.forceChange,o=n.onBlur;o&&o(e),a(t)}},{key:"renderInfo",value:function(){var e=this.props.info,t="number"!=typeof e;if("function"!=typeof e&&t)return null;var n=(t?e:this.defaultInfo)(this.props.value);if(!n)return null;var a=n instanceof Error,o=a?n.message:n;return m.a.createElement("div",{key:"info",style:{minWidth:"auto"},className:Object(g.p)("bottom-right",a?"error":"tip")},o)}},{key:"render",value:function(){var e=this.props,t=e.autosize,n=(e.onChange,e.maxHeight),a=(e.info,e.onEnterPress,Object(s.a)(e,["autosize","onChange","maxHeight","info","onEnterPress"])),o=null==a.value?"":a.value,r=this.state.height||"auto",l=t?Object(g.p)("auto-size"):"",i=[m.a.createElement("textarea",Object.assign({},Object(O.a)(a),{key:"t",value:o,className:l,style:{height:r,maxHeight:n,overflow:"auto"},onChange:this.handleChange,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur})),this.renderInfo()];return t&&i.push(m.a.createElement("textarea",{key:"s",ref:this.bindShadow,className:Object(g.p)("shadow"),rows:a.rows,defaultValue:o})),i}}]),t}(j.b);y.defaultProps={rows:4};var w=y,k=Object(a.a)(l.a,Object(i.a)({}),Object(o.a)(400),r.a)(w);k.displayName="ShineoutTextarea";t.a=k},822:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(499),l=n(500),i=n(39),s=n(823),u=n.n(s),c=n(824),h=n.n(c),d=Object(i.b)(u.a,h.a),b=[{name:"01-base",title:Object(i.b)("基本用法 \n EditableArea 默认展示一行，超过一行的内容用...代替","Base \n Editablearea displays one line by default, and more than one line is replaced by ..."),component:n(825).default,rawText:n(826)},{name:"02-controlled",title:Object(i.b)("受控 \n 传递value, onChange使组件受控","Controlled \n Pass value and onChange props to make the component controlled"),component:n(827).default,rawText:n(828)}];t.default=Object(r.a)(function(e){return o.a.createElement(l.b,Object.assign({},e,{codes:void 0,source:d,examples:b}))})},823:function(e,t){e.exports="# EditableArea *可编辑域*\n\n<example />\n\n## API\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| defaultValue | string | 无 | 设置初始值 |\n| value | string | 无 | 受控时，传入的value |\n| className | string | 无 | 扩展外层className |\n| onChange | (value: string) => void | 无 | 值改变时的回调函数，和value一起设置时使组件受控 |\n| style | object | 无 | 组件最外层的扩展样式 |\n| bordered | boolean | false | 是否显示外边框 |\n| disabled | boolean | false | 是否禁用 |\n| clearable | boolean | true | 是否展示清除按钮 |\n| placeholder | string | 无 | 同原生 textarea 标签的 placeholder |\n| delay | number | 400 | 用户输入触发 onChange 和校验间隔时间，单位 毫秒 |\n| trim | boolean | false | trim 为 true 时，失去焦点时会自动删除空白字符 |\n| onBlur | (e: MouseEvent) => void | 无 | 失去焦点事件 |\n| onFocus | (e: MouseEvent) => void | 无 | 聚焦事件 |\n"},824:function(e,t){e.exports="# EditableArea\n\n<example />\n\n## API\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| defaultValue | string | none | Set initial value |\n| value | string | none | The value passed in when controlled |\n| className | string | none | The outermost extension className of a component |\n| onChange | (value: string) => void | none | Callback function when the value changes, making the component controlled when set with value |\n| style | object | none | The outermost extension style of a component |\n| bordered | boolean | false | Whether to show the border |\n| disabled | boolean | false | Whether to disable |\n| clearable | boolean | true | Whether to show the clear button |\n| placeholder | string | none | The same as the native placeholder tag |\n| delay | number | 400 | User input triggers the onChange and to check interval, unit: ms. |\n| trim | boolean | false | When trim is true, blank characters are automatically deleted when lose focus |\n| onBlur | (e: MouseEvent) => void | none | blur event |\n| onFocus | (e: MouseEvent) => void | none | focus event |\n"},825:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(1525);t.default=function(){return o.a.createElement(r.a,{bordered:!0,placeholder:"input something",style:{width:300}})}},826:function(e,t){e.exports="/**\n * cn - 基本用法\n *    -- EditableArea 默认展示一行，超过一行的内容用...代替\n * en - Base\n *    -- Editablearea displays one line by default, and more than one line is replaced by ...\n */\n\nimport React from 'react'\nimport { EditableArea } from 'shineout'\n\nexport default function() {\n  return <EditableArea bordered placeholder=\"input something\" style={{ width: 300 }} />\n}\n"},827:function(e,t,n){"use strict";n.r(t);var o=n(23),r=n(0),l=n.n(r),i=n(1525);t.default=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1];return l.a.createElement(i.a,{value:n,placeholder:"Input something",onChange:function(e){a(e)},style:{width:300},onBlur:function(){console.log("EditableArea: onBlur")}})}},828:function(e,t){e.exports="/**\n * cn - 受控\n *    -- 传递value, onChange使组件受控\n * en - Controlled\n *    -- Pass value and onChange props to make the component controlled\n */\n\nimport React, { useState } from 'react'\nimport { EditableArea } from 'shineout'\n\nexport default function () {\n  const [value, setValue] = useState('')\n  return (\n    <EditableArea\n      value={value}\n      placeholder=\"Input something\"\n      onChange={val => {\n        setValue(val)\n      }}\n      style={{ width: 300 }}\n      onBlur={() => {\n        console.log('EditableArea: onBlur')\n      }}\n    />\n  )\n}\n"}}]);