(window.webpackJsonpShineoutDoc=window.webpackJsonpShineoutDoc||[]).push([[7],{214:function(e,t,n){"use strict";var o=n(29),s=n(0),u=n.n(s),d=n(220),h=n(72),m=n(25);t.a=function(i){return function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)([]),c=Object(o.a)(n,1)[0],l=Object(s.useCallback)(function(e){e.forEach(function(e){c.push(e)})},[]);Object(s.useEffect)(function(){var e=function(){var n=document.documentElement.scrollTop,e=c.filter(function(e){return 3===e.level&&e.children[0]});if(0!==e.length){var a=e[0].id;e.forEach(function(e){var t=document.querySelector("#".concat(e.id));t&&t.offsetTop<=n&&(a=e.id)}),r(a)}};return document.addEventListener("scroll",e),e(),function(){document.removeEventListener("scroll",e)}},[]);return u.a.createElement("div",{className:Object(m.f)("_")},u.a.createElement(i,{onHeadingSetted:l}),u.a.createElement(d.a,{className:Object(m.f)("sticky"),top:50},u.a.createElement("div",{className:Object(m.f)("nav")},c.map(function(e,t){var n=e.children.filter(function(e){return"string"==typeof e});return u.a.createElement("a",{key:t,className:Object(m.f)("level-".concat(e.level),a===e.id&&"active"),onClick:function(e){if(0===h.a.location.search.indexOf("?example="))h.a.push("".concat(h.a.location.pathname,"?example=").concat(e.replace("heading-","")));else{var t=document.getElementById(e);t&&t.scrollIntoView()}}.bind(null,e.id)},n)}))))}}},215:function(e,t,n){"use strict";var C=n(0),N=n.n(C),u=n(15),T=n(29),a=n(221),d=n.n(a),h=n(37),I=n(25),m=n(20),r=n(14),l=n.n(r),c=n(222),i=n.n(c),H=(n(223),function(e){var t=e.language,n=void 0===t?"lang-jsx":t,a=e.onHighLight,r=e.value,c=Object(C.useRef)(null);return Object(C.useEffect)(function(){var e=c.current;i.a.highlightElement(e,!1,function(){a&&a(e.offsetHeight)})},[]),N.a.createElement("pre",{ref:c,className:l()(n||"lang-jsx",Object(I.a)("pre"))},N.a.createElement("code",null,r))}),R=n(76),o=n(67),s=n(4),f=n(5),p=n(8),b=n(2),v=n(7),O=n(19),j=n(216),W=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(p.a)(this,Object(b.a)(n).call(this,e))).state={ready:!1},t.placeholderRef=function(e){t.placeholder=e},t}return Object(v.a)(n,e),Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.lazyId=Object(j.a)({element:this.placeholder,render:function(){return e.setState({ready:!0})}})}},{key:"componentWillUnmount",value:function(){Object(j.b)(this.lazyId)}},{key:"render",value:function(){var e=this.state.ready,t=this.props,n=t.children,a=t.placeholder;return e?n:N.a.createElement("span",{ref:this.placeholderRef},a)}}]),n}(O.b),D=n(75),X=n(72),M=N.a.createElement("div",{className:Object(I.a)("placeholder")},N.a.createElement(o.a,null));function y(e){var t=e.component,n=e.id,a=e.name,r=e.rawText,c=e.title,l=Object(C.useRef)(null),i=Object(C.useState)(!1),o=Object(T.a)(i,2),s=o[0],u=o[1],d=Object(C.useState)(),h=Object(T.a)(d,2),m=h[0],f=h[1],p=Object(C.useState)(),b=Object(T.a)(p,1)[0],v=function e(t,n,a){l.current.style.height="".concat(t*(n-1),"px"),1<n&&setTimeout(function(){e(t,n-1,a)},16),a&&(document.documentElement.scrollTop-=t)};Object(C.useEffect)(function(){if(l.current)if(s)l.current.style.height="".concat(m,"px");else{var e=m%15;0<e&&v(e,1,b),v((m-e)/15,15,b)}},[s]);var O=function(e){u(!s),b=e},j=function(e){return N.a.createElement("a",{href:"javascript:;",className:Object(I.a)("toggle"),onClick:O.bind(null,e)},N.a.createElement(D.a,{name:s?"code-close":"code"}))},y=r.replace(/(^|\n|\r)\s*\/\*[\s\S]*?\*\/\s*(?:\r|\n|$)/,"").trim(),g=X.a.location.search,k="?example=";if(0===g.indexOf(k)&&(g=g.replace(k,""),a.indexOf(g)<0))return null;var E=c.split("\n"),x=Object(R.a)(E),S=x[0],w=x.slice(1);return S&&(S=S.trim()),N.a.createElement(C.Fragment,null,S&&N.a.createElement("h3",{key:"0",id:n},S),N.a.createElement(W,{placeholder:M},N.a.createElement("div",{className:Object(I.a)("_",s&&"showcode")},N.a.createElement("div",{className:Object(I.a)("body")},Object(C.createElement)(t)),0<c.length&&N.a.createElement("div",{className:Object(I.a)("desc")},w.map(function(e,t){return N.a.createElement("div",{key:t,dangerouslySetInnerHTML:{__html:e}})}),j(!1)),N.a.createElement("div",{ref:l,className:Object(I.a)("code")},N.a.createElement(H,{onHighLight:function(e){f(e)},onClose:O,value:y}),j(!0)))))}y.defaultProps={rawText:""};var g=function(e){var t=e.children,n=Object(C.useState)(!1),a=Object(T.a)(n,2),r=a[0],c=a[1],l=t.map(function(e){return e.replace(/"fn#fn/g,"").replace(/fn#fn"/g,"").replace(/\\n/g,"\n")}),i=r?"pre":"div";return N.a.createElement("div",{onClick:function(){c(!r)},className:Object(I.e)("console")},N.a.createElement(i,null,l))};g.defaultProps={children:[]};var k=g;function E(e){var t=e.children;return N.a.createElement("table",{className:"doc-api-table"},t)}E.defaultProps={};var x=E,S=/^<code name="([\w|-]+)" /,w=/^<example name="([\w|-]+)"/;function _(e){var t=e.onHeadingSetted,c=e.codes,l=e.examples,n=e.source,a=Object(C.useState)([]),r=Object(T.a)(a,1)[0],i=Object(C.useState)({}),o=Object(T.a)(i,1)[0];Object(C.useEffect)(function(){t&&t(r)},[]);var s=function(e){r.push(e)};return r=[],N.a.createElement(d.a,{className:Object(I.e)("_"),source:n,renderers:{code:H,heading:function(e){var t=e.level,n=e.children,a="".concat(t,"-").concat(n[0]),r="h".concat(t);if("object"==typeof n[0])return N.a.createElement(r,null,n);if(!o[a]){var c="heading-".concat(Object(h.b)());2!==t&&3!==t||s({id:c,level:t,children:n}),o[a]=N.a.createElement(r,{id:c},n)}return o[a]},html:function(e){if("<example />"===e.value)return function(){if(o.examples)return o.examples;if(!l)return N.a.createElement("div",null);var e=Object(m.b)("示例","Example"),t="heading-".concat(Object(h.b)());return s({id:t,level:2,children:[e]}),o.examples=[N.a.createElement("h2",{key:"h",id:t},e)].concat(Object(u.a)(l.map(function(e,t){if(/\d+-/.test(e.name)){var n="heading-".concat(e.name),a=e.title.split("\n"),r=Object(T.a)(a,1)[0];return s({id:n,level:3,children:[r]}),N.a.createElement(y,Object.assign({key:t,id:n},e,{lazy:2<t}))}}))),o.examples}();var t=e.value.match(w);if(t)return function(t){var e="example-".concat(t);if(!o[e]){var n=(l||[]).find(function(e){return e.name===t});o[e]=n?N.a.createElement(y,n):null}return o[e]}(t[1],e.value.indexOf("noExpand"));if("<br>"===e.value||"<br />"===e.value)return N.a.createElement("br",null);var n,a,r=e.value.match(S);return r?(n=r[1],(a=c[n])?[N.a.createElement(H,{key:"cb",value:a.text})].concat(Object(u.a)(a.log.map(function(e,t){return N.a.createElement(k,{key:t},e)}))):(console.error("Code ".concat(n," not existed")),null)):null},table:x,link:function(e){var t=e.href.indexOf(!1)?"_blank":void 0;return N.a.createElement("a",{href:e.href,target:t},e.children)}}})}_.defaultProps={children:null,examples:null,onHeadingSetted:void 0};var z=n(74),A=n(214);n.d(t,"a",function(){return Y});var L,P=((L=function(e){var t=Object(C.useState)(e.source),n=Object(T.a)(t,2),a=n[0],r=n[1];return Object(C.useEffect)(function(){e.loader&&e.loader().then(function(e){r(e.default)})},[]),a?N.a.createElement(_,Object.assign({},e,{source:a})):N.a.createElement(z.a,{style:{minHeight:200}})}).defaultProps={loader:void 0,source:void 0},Object(C.memo)(L));t.b=P;function Y(t){return Object(A.a)(function(e){return N.a.createElement(P,Object.assign({},e,{loader:t}))})}},216:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var a=n(218),r=n(37),c=n(64),l={},i=null,o=!1,s=c.b.height;function u(e){var t=e.element.getBoundingClientRect();if(t.bottom<0||t.top>s){var n=Object(r.b)();return l[n]=e,n}return e.render(),null}function d(e){e&&delete l[e]}document.addEventListener("scroll",function(){i&&clearTimeout(i),i=setTimeout(function(){o||(o=!0,Object.keys(l).forEach(function(e){var t=l[e],n=t.element,a=t.render,r=n.getBoundingClientRect();r.bottom<0||r.top>s||(delete l[e],a())}),o=!1),i=null},80)},a.a)},245:function(e,t,n){"use strict";t.a=function(e){var t=0,n=0,a=0,r=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),a=10*t,r=10*n,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(a=e.deltaX),(a||r)&&e.deltaMode&&(1===e.deltaMode?(a*=40,r*=40):(a*=800,r*=800)),a&&!t&&(t=a<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:t,spinY:n,pixelX:a,pixelY:r}}},264:function(e,t,n){"use strict";var a=n(4),r=n(5),c=n(8),l=n(2),i=n(18),o=n(7),s=n(1),u=n(0),d=n.n(u),h=n(14),m=n.n(h),f=n(19),p=n(216),b=n(11),v=n(78),O=n.n(v),j=n(27),y=n(245),g=n(65),k=function(e){function n(e){var t;return Object(a.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).state={status:0,style:{maxHeight:e.maxHeight,maxWidth:e.maxWidth}},t.handleMove=t.handleMove.bind(Object(s.a)(Object(s.a)(t))),t.handleResize=t.handleResize.bind(Object(s.a)(Object(s.a)(t))),t}return Object(o.a)(n,e),Object(r.a)(n,[{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&1===this.state.status&&(this.setState({status:0,style:{maxHeight:this.props.maxHeight,maxWidth:this.props.maxWidth}}),this.props.lockScroll(!1))}},{key:"move",value:function(e,t){var n=this.element.getBoundingClientRect(),a=this.element.querySelector("img"),r=n.width-100,c=n.height-100,l=(e-n.left-50)/r,i=(t-n.top-50)/c;this.element.scrollTop=(a.offsetHeight-c)*i,this.element.scrollLeft=(a.offsetWidth-r)*l}},{key:"handleMove",value:function(e){this.move(e.clientX,e.clientY)}},{key:"handleResize",value:function(e){var t=this,n=this.props,a=n.maxHeight,r=n.maxWidth;if("center"===n.position){var c=1===this.state.status?0:1,l=e.clientX,i=e.clientY;this.setState(Object(j.a)(function(e){e.status=c,e.style=0===c?{maxHeight:a,maxWidth:r}:void 0}),function(){0!==c&&t.move(l,i)}),this.props.lockScroll(1===c)}}},{key:"render",value:function(){var t=this,e=this.props,n=e.maxHeight,a=e.maxWidth,r=e.src,c=this.state.status,l={maxHeight:n,maxWidth:a,cursor:"center"===this.props.position?1===c?"zoom-out":"zoom-in":"pointer"};1===c&&(l.overflow="scroll",l.borderRightWidth=0,l.borderBottomWidth=0);var i=1===c?this.handleMove:void 0;return d.a.createElement("div",{onClick:this.handleResize,onMouseMove:i,ref:function(e){t.element=e},style:l},d.a.createElement("img",{src:r,alt:"",style:this.state.style}))}}]),n}(f.b),E=n(64),x=function(e){function n(e){var t;return Object(a.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).state={current:e.current,direction:"init"},t.handleScroll=t.handleScroll.bind(Object(s.a)(Object(s.a)(t))),t.lockScroll=t.lockScroll.bind(Object(s.a)(Object(s.a)(t))),t.scrollX=0,t.rawScroll=!1,t}return Object(o.a)(n,e),Object(r.a)(n,[{key:"componentDidMount",value:function(){Object(i.a)(Object(l.a)(n.prototype),"componentDidMount",this).call(this),document.addEventListener("wheel",this.handleScroll)}},{key:"componentWillUnmount",value:function(){Object(i.a)(Object(l.a)(n.prototype),"componentWillUnmount",this).call(this),document.removeEventListener("wheel",this.handleScroll)}},{key:"lockScroll",value:function(e){this.rawScroll=e}},{key:"handleClick",value:function(t){var e=this,n=this.props.images.length;this.setState(Object(j.a)(function(e){e.current+=t,e.current<0?e.current=0:e.current>=n?e.current=n-1:e.direction=1===t?"forward":"backward"}),function(){setTimeout(function(){e.setState({direction:"init"})},400)})}},{key:"handleScroll",value:function(e){var t=this;if(!this.rawScroll&&(e.preventDefault(),0===this.scrollX)){var n=Object(y.a)(e);this.scrollX+=n.spinX,this.scrollX<0&&this.handleClick(-1),0<this.scrollX&&this.handleClick(1),this.scrollTimer=setTimeout(function(){t.scrollX=0},1e3)}}},{key:"renderImage",value:function(e,t){var n,a=E.b.height,r=E.b.width;return"center"!==t&&(n=this.handleClick.bind(this,"left"===t?-1:1)),d.a.createElement("div",{key:e.key,className:Object(b.m)(t,this.state.direction),onClick:n},d.a.createElement("a",{href:"javascript:;",onClick:this.props.onClose,className:Object(b.m)("close")},g.a.Close),d.a.createElement(k,{maxWidth:r-400,maxHeight:a-160,position:t,src:e.src,lockScroll:this.lockScroll}))}},{key:"render",value:function(){var e=this.state.current,t=this.props,n=t.images,a=t.onClose,r=n[e],c=[];return c.push(d.a.createElement("div",{key:"overlay",className:Object(b.m)("overlay"),onClick:a})),c.push(this.renderImage(r,"center")),n[e-1]&&c.push(this.renderImage(n[e-1],"left")),n[e+1]&&c.push(this.renderImage(n[e+1],"right")),c}}]),n}(f.b);x.defaultProps={current:0};var S,w=x;function C(){document.removeEventListener("keydown",N),O.a.unmountComponentAtNode(S),document.body.removeChild(S),S=null}function N(e){27===e.keyCode&&C()}var T=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;Array.isArray(e)||(e=[e]);var n=S||(S=document.createElement("div"),document.body.appendChild(S),S.className=Object(b.m)("gallery"),S);document.addEventListener("keydown",N),O.a.render(d.a.createElement(w,{onClose:C,current:t,images:e}),n)},I=function(e){function n(e){var t;return Object(a.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).state={status:0},t.bindElement=t.bindElement.bind(Object(s.a)(Object(s.a)(t))),t.markToRender=t.markToRender.bind(Object(s.a)(Object(s.a)(t))),t.handleAlt=t.handleAlt.bind(Object(s.a)(Object(s.a)(t))),t.handleClick=t.handleClick.bind(Object(s.a)(Object(s.a)(t))),t}return Object(o.a)(n,e),Object(r.a)(n,[{key:"componentDidMount",value:function(){Object(i.a)(Object(l.a)(n.prototype),"componentDidMount",this).call(this),this.props.lazy?this.lazyId=Object(p.a)({element:this.element,render:this.markToRender}):this.markToRender()}},{key:"componentWillUnmount",value:function(){Object(i.a)(Object(l.a)(n.prototype),"componentWillUnmount",this).call(this),Object(p.b)(this.lazyId),delete this.image}},{key:"bindElement",value:function(e){this.element=e}},{key:"markToRender",value:function(){var e=this;if(this.props.src){delete this.image;var t=new window.Image;t.onload=function(){return e.setState({status:1})},t.onerror=this.handleAlt,t.src=this.props.src,this.image=t}else this.handleAlt()}},{key:"handleAlt",value:function(){var e=this,t=this.props.alt;if(t){var n=new window.Image;n.onload=function(){return e.setState({status:2})},n.onerror=function(){return e.setState({status:3})},n.src=t}else this.setState({status:3})}},{key:"handleClick",value:function(e){e.preventDefault();var t=this.props,n=t.onClick,a=t.src,r=t.href;n?n():T({thumb:a,src:r||a,key:"key"})}},{key:"renderType",value:function(e){var t=this.props,n=t.title,a=t.fit;return"fill"===a||"fit"===a?d.a.createElement("div",{className:Object(b.m)("inner"),title:n,style:{backgroundImage:'url("'.concat(e,'")')}}):d.a.createElement("div",{className:Object(b.m)("inner"),title:n},d.a.createElement("img",{alt:"",src:e}))}},{key:"renderImage",value:function(){var e=this.state.status,t=this.props,n=t.alt,a=t.placeholder,r=t.src,c=t.title;switch(e){case 0:return a?d.a.createElement("div",{className:Object(b.m)("inner")},a):d.a.createElement("div",{className:Object(b.m)("inner","mask")},d.a.createElement("div",null,c," ",d.a.createElement("span",{className:Object(b.m)("ellipsis")})));case 1:return this.renderType(r);case 2:return this.renderType(n);case 3:return d.a.createElement("div",{className:Object(b.m)("inner","mask")},d.a.createElement("div",null,c||"no found"));default:return null}}},{key:"render",value:function(){var e=this.props,t=e.href,n=e.height,a=e.style,r=e.shape,c=e.fit,l=e.width,i=e.target,o=m()(Object(b.m)("_",r,c),this.props.className),s=t?"a":"div";return d.a.createElement(s,{ref:this.bindElement,href:t&&"_modal"===i?"javascript:;":t,onClick:t&&"_modal"===i?this.handleClick:void 0,target:"_download"===i?"_self":i,download:"_download"===i,className:o,style:Object.assign({},a,{width:l,paddingBottom:n})},this.renderImage())}}]),n}(f.b);I.defaultProps={lazy:!1,target:"_modal",width:"100%",height:"100%"};var H={};I.symbolType=H;var R=I,W=n(21),D=n(12),X=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(c){var e=this.props.children,l=[],i=0;u.Children.toArray(e).forEach(function(e,t){if(e&&e.type&&e.type.symbolType===H){c===t&&(i=l.length);var n=e.props,a=n.src,r=n.href;l.push({thumb:a,src:r||a,key:t})}}),T(l,i)}},{key:"render",value:function(){var n=this,e=this.props,t=(e.children,e.pile),a=e.style,r=Object(D.a)(e,["children","pile","style"]);return d.a.createElement("div",{className:Object(b.m)("group",t&&"pile"),style:a},u.Children.toArray(this.props.children).map(function(e,t){return Object(u.cloneElement)(e,Object(W.a)({},r,{onClick:n.handleClick.bind(n,t)}))}))}}]),t}(u.PureComponent);R.Group=X,R.displayName="ShineoutImage",R.Group.displayName="ShineoutImageGroup";t.a=R}}]);